<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta charset="utf-8" />
    <title>网站后台管理系统</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="favicon.ico" />
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/font-awesome.min.css" rel="stylesheet" />
    <link href="css/default.css" rel="stylesheet" type="text/css" />
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap/bootstrap.min.js"></script>
    <link href="css/pace/dataurl.css" rel="stylesheet" />
    <script src="js/pace/pace.min.js"></script>
    <script src="js/jquery.scrolltopcontrol/scrolltopcontrol.js" type="text/javascript"></script>
    <script src="js/jquery.extend.js" type="text/javascript"></script>
    <script src="js/default.js" type="text/javascript"></script>
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle show pull-left" data-target="sidebar">
                    <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html" style="color:white">网站后台管理系统</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="#"></a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                           aria-expanded="false"><i class="fa fa-user fa-fw"></i>&nbsp;admin&nbsp;<span class="caret"></span></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container-fluid all">
        <div class="sidebar">
            <ul class="nav">
                <li class="has-sub">
                    <a href="javascript:void(0);"><span>图片管理</span><i class="fa fa-caret-right fa-fw pull-right"></i></a>
                    <ul class="sub-menu">
                        <li><a href="javascript:addTab( 'ceshi', '焦点图设置',  'http://www.baidu.com');"><i class="fa fa-circle-o fa-fw"></i>&nbsp;焦点图设置</a></li>
                        <li><a href="javascript:addTab( 'ceshi1', '对联广告图设置', 'http://www.qq.com');"><i class="fa fa-circle-o fa-fw"></i>&nbsp;对联广告图设置</a></li>
                        <li><a href="javascript:addTab( 'ceshi2', '特约商户焦点图','http://www.youku.com');"><i class="fa fa-circle-o fa-fw"></i>&nbsp;特约商户焦点图</a></li>
                    </ul>
                </li>
                <li class="has-sub">
                    <a href="javascript:void(0);"><span>设置</span><i class="fa fa-caret-right fa-fw pull-right"></i></a>
                    <ul class="sub-menu">
                        <li><a href="left1.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;新增内容</a></li>
                        <li><a href="left2.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;内容列表</a></li>
                        <li><a href="left3.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;联系我们</a></li>
                    </ul>
                </li>
                <li class="has-sub">
                    <a href="javascript:void(0);"><span>加盟店管理</span><i class="fa fa-caret-right fa-fw pull-right"></i></a>
                    <ul class="sub-menu">
                        <li><a href="left1.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;区域设置</a></li>
                        <li><a href="left2.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;类别设置</a></li>
                        <li><a href="left3.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;加盟店列表</a></li>
                    </ul>
                </li>
                <li class="has-sub">
                    <a href="javascript:void(0);"><span>新闻活动</span><i class="fa fa-caret-right fa-fw pull-right"></i></a>
                    <ul class="sub-menu">
                        <li><a href="left1.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;类别设置</a></li>
                        <li><a href="left2.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;新增新闻</a></li>
                        <li><a href="left3.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;新闻活动列表</a></li>
                    </ul>
                </li>
                
                <li class="has-sub">
                    <a href="javascript:void(0);"><span>人才招聘</span><i class="fa fa-caret-right fa-fw pull-right"></i></a>
                    <ul class="sub-menu">
                        <li><a href="left1.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;发布招聘信息</a></li>
                        <li><a href="left2.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;管理招聘信息</a></li>
                        <li><a href="left3.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;查看应聘人员</a></li>
                    </ul>
                </li>
                <li class="has-sub">
                    <a href="javascript:void(0);"><span>留言管理</span><i class="fa fa-caret-right fa-fw pull-right"></i></a>
                    <ul class="sub-menu">
                        <li><a href="left1.html"><i class="fa fa-circle-o fa-fw"></i>&nbsp;留言查看</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="maincontent">
            <div>
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist" id="mytabs"></ul>

                <!-- Tab panes -->
                <div class="tab-content" id="mypanes">
                </div>
            </div>
        </div>
    </div>
    <a href="#top" id="goTop"><i class="fa fa-angle-up fa-3x"></i></a>
       
    </a>
</body>
</html>
<script type="text/javascript">
    /**
    * 增加标签页
    */
    function addTab(tabName, tabTitle, tabUrl) {
        //option:
        //tabMainName:tab标签页所在的容器
        //tabName:当前tab的名称
        //tabTitle:当前tab的标题
        //tabUrl:当前tab所指向的URL地址
        //tabContentMainName:容器的ID号
        var tabMainName = "mytabs";
        var tabContentMainName = "mypanes";
        var exists = checkTabIsExists(tabMainName, tabName);
        if (exists) {
            $("#tab_a_" + tabName).click();
        } else {
            $("#" + tabMainName).append('<li id="tab_li_' + tabName + '"><a href="#tab_content_' + tabName + '" aria-controls="tab_content_' + tabName + '" data-toggle="tab" id="tab_a_' + tabName + '"><button class="close closeTab" type="button" onclick="closeTab(this);">&nbsp;<span aria-hidden="true" style="color:red">&times;</span></button>' + tabTitle + '</a></li>');
            //固定TAB中IFRAME高度
            mainHeight = $(window).height() - 100;
            content = '<iframe src="' + tabUrl + '" width="100%" height="' + mainHeight + 'px" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="yes" allowtransparency="yes"></iframe>';
            
            $("#" + tabContentMainName).append('<div id="tab_content_' + tabName + '" role="tabpanel" class="tab-pane" id="' + tabName + '">' + content + '</div>');
            $("#tab_a_" + tabName).click();
        }
    }
     
   
    /**
    * 关闭标签页
    * @param button
    */
    function closeTab(button) {

        //通过该button找到对应li标签的id
        var li_id = $(button).parent().parent().attr('id');
        var id = li_id.replace("tab_li_", "");

        //如果关闭的是当前激活的TAB，激活他的前一个TAB
        if ($("li.active").attr('id') == li_id) {
            $("li.active").prev().find("a").click();
        }

        //关闭TAB
        $("#" + li_id).remove();
        $("#tab_content_" + id).remove();
    };
    
    /**
    * 判断是否存在指定的标签页
    * @param tabMainName
    * @param tabName
    * @returns {Boolean}
    */
    function checkTabIsExists(tabMainName, tabName) {
        var tab = $("#" + tabMainName + " > #tab_li_" + tabName);
        //console.log(tab.length)
        return tab.length > 0;

    }

</script>
